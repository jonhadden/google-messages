(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{261:function(e,t,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(77).default)("47cadc0b",content,!0,{sourceMap:!1})},262:function(e,t,n){"use strict";n.r(t);var o={name:"Header",methods:{showMobileMenu:function(){this.$emit("event","showMobileMenu")}}},c=(n(263),n(46)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"messages-header"},[n("button",{on:{click:e.showMobileMenu}},[n("fa",{attrs:{icon:"bars"}})],1),e._v(" "),n("h1",[e._v("Messages")])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(262).default})},263:function(e,t,n){"use strict";n(261)},264:function(e,t,n){var o=n(76)(!1);o.push([e.i,".messages-header{background:purple;color:#fff}.messages-header button{background:transparent}",""]),e.exports=o},265:function(e,t,n){var content=n(267);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(77).default)("a23bae6c",content,!0,{sourceMap:!1})},266:function(e,t,n){"use strict";n(265)},267:function(e,t,n){var o=n(76)(!1);o.push([e.i,".messages article{border-bottom:1px solid #ddd;padding:10px;display:flex;grid-gap:1rem;gap:1rem}.messages article img{width:30px;height:30px;border-radius:50%}.messages article section{flex:1}.messages article header{display:flex;justify-content:space-between;margin-bottom:4px}.messages article h2,.messages article p{margin-bottom:0;line-height:1}.messages article main{font-size:.85rem}",""]),e.exports=o},270:function(e,t,n){"use strict";n.r(t);n(62),n(11),n(28);var o={name:"Messages",data:function(){return{baseUrl:"http://message-list.appspot.com/",messages:[],pageToken:"",count:10,xDown:null,yDown:null}},methods:{getTouches:function(e){return console.log("getTouches",e),e.touches},handleTouchStart:function(e){var t=this.getTouches(e)[0];this.xDown=t.clientX,this.yDown=t.clientY},handleTouchMove:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,n=e.touches[0].clientY,o=this.xDown-t,c=this.yDown-n;Math.abs(o)>Math.abs(c)&&(o>0?console.log("right - xDiff",o):console.log("left - xDiff",o)),this.xDown=null,this.yDown=null}},getIntialMessages:function(){var e=this;this.$axios.$get(this.baseUrl+"messages?limit=".concat(this.count)).then((function(t){e.pageToken=t.pageToken,e.messages=t.messages})).catch((function(e){console.log(e)}))},getNextMessages:function(){var e=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&e.$axios.$get(e.baseUrl+"messages?limit=".concat(e.count,"&pageToken=").concat(e.pageToken)).then((function(t){t.messages.forEach((function(t){e.messages.push(t)})),e.pageToken=t.pageToken,console.log(e.messages)}))}},authorImageUrl:function(e){var t=this.baseUrl+e;return console.log(t),t}},beforeMount:function(){this.getIntialMessages()},mounted:function(){this.getNextMessages()}},c=(n(266),n(46)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messages"},e._l(e.messages,(function(t){return n("article",{key:t.id,on:{touchstart:e.handleTouchStart,touchmove:e.handleTouchMove}},[t.author?n("img",{attrs:{src:e.authorImageUrl(t.author.photoUrl),alt:t.author.name}}):e._e(),e._v(" "),n("section",[n("header",[t.author?n("h2",[e._v(e._s(t.author.name))]):e._e(),e._v(" "),n("p",[e._v(e._s(t.updated))])]),e._v(" "),n("main",[e._v("\n\t\t\t\t"+e._s(t.content)+"\n\t\t\t")])])])})),0)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(262).default})}}]);