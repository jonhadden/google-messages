(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,4,5],{272:function(e,t,n){var content=n(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(63).default)("0818a98b",content,!0,{sourceMap:!1})},273:function(e,t,n){"use strict";n.r(t);var o={name:"Header",methods:{showMobileMenu:function(){this.$emit("event","showMobileMenu")}}},r=(n(274),n(46)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"messages-header"},[n("button",{on:{click:e.showMobileMenu}},[n("i",{staticClass:"fa-solid fa-bars"})]),e._v(" "),n("h1",[e._v("Messages")])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(273).default})},274:function(e,t,n){"use strict";n(272)},275:function(e,t,n){var o=n(62)(!1);o.push([e.i,".messages-header{background:#673ab7;border-bottom:1px solid #3c1b75;z-index:2;color:#fff;display:flex;align-items:center;transition:all 2s;box-shadow:0 1px 2px 0 rgba(0,0,0,.2),inset 0 2px 1px #825ac5}.messages-header button{background:transparent;border:none;color:#fff;padding:14px 20px;margin-right:10px}.messages-header button:hover{background:#5c005c}.messages-header h1{font-size:1.25rem;flex:1;margin-bottom:0;text-shadow:0 1px 1px 0 #240024}.scroll-up .messages-header{position:fixed;top:0;width:100%}",""]),e.exports=o},276:function(e,t,n){var content=n(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(63).default)("a23bae6c",content,!0,{sourceMap:!1})},277:function(e,t,n){"use strict";n(276)},278:function(e,t,n){var o=n(62)(!1);o.push([e.i,".messages{z-index:1}.messages .card-content{border-bottom:1px solid #ddd;padding:10px;display:flex;grid-gap:1rem;gap:1rem}.messages .card-content .author-image{width:36px;height:36px;border-radius:50%}.messages .card-content section{flex:1}.messages .card-content header{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:4px}.messages .card-content h2,.messages .card-content p{margin-bottom:0;line-height:1}.messages .card-content h2{font-size:1rem;font-weight:500}.messages .card-content p{font-size:.75rem;line-height:1;color:grey}.messages .card-content main{font-size:.85rem}.messages .loading{text-align:center;margin-top:80px}.messages .swipeout-action{transition:transform .2s;will-change:transform;display:flex;align-items:center;padding:0 3rem;cursor:pointer;left:0}.messages .swipeout-action.red{color:#fff;background-color:#ff3b30}.messages .swipeout-action.purple{color:#fff;background-color:#5856d6}.messages .swipeout-action.green{color:#fff;background-color:#4cd964}.messages .item-removed{background:#673ab7;border:none;border-radius:8px;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);color:#fff;width:calc(100% - 20px);padding:10px 20px;position:fixed;z-index:3;bottom:10px;left:10px;display:flex;justify-content:space-between;align-content:center}.messages .item-removed .button-label{background:#552b9e;color:#fff;border-radius:4px;border:none}",""]),e.exports=o},283:function(e,t,n){"use strict";n.r(t);var o={name:"Menu",methods:{}},r=n(46),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("aside",[e._v("\n\tmenu\n")])}),[],!1,null,null,null);t.default=component.exports},284:function(e,t,n){"use strict";n.r(t);n(29),n(11),n(78),n(64),n(28);var o=n(282),r=(n(281),{name:"Messages",components:{SwipeOut:o.b,SwipeList:o.a},data:function(){return{baseUrl:"http://message-list.appspot.com/",dataReady:!1,messages:[],pageToken:"",count:10,xDown:null,yDown:null,enabled:!0,itemRemoved:!1}},filters:{truncate:function(e,t){return(e||"").substring(0,t)+"â€¦"}},methods:{remove:function(e){var t=this;this.messages=this.messages.filter((function(i){return i!==e})),setTimeout((function(){t.itemRemoved=!0,setTimeout((function(){t.itemRemoved=!1}),5e3)}),250)},itemClick:function(e){console.log(e,"item click")},getIntialMessages:function(){var e=this;setTimeout((function(){e.$axios.$get("/api/messages?limit=".concat(e.count)).then((function(t){e.pageToken=t.pageToken,e.messages=t.messages,e.dataReady=!0})).catch((function(e){console.log(e)}))}),3e3)},watchForLazyLoading:function(){var e=this,body=document.body,t="scroll-up",n="scroll-down",o=0;window.onscroll=function(){var r=window.pageYOffset;if(r<=0)body.classList.remove(t);else{r>o&&!body.classList.contains(n)?(body.classList.remove(t),body.classList.add(n)):r<o&&body.classList.contains(n)&&(body.classList.remove(n),body.classList.add(t)),o=r;var c=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight+2>=document.documentElement.offsetHeight;c&&(console.log("bottom of window",c),e.$axios.$get("/api/messages?limit=".concat(e.count,"&pageToken=").concat(e.pageToken)).then((function(t){t.messages.forEach((function(t){e.messages.push(t)})),e.pageToken=t.pageToken})))}}},authorImageUrl:function(e){var t=this.baseUrl+e;return console.log(t),t}},beforeMount:function(){this.getIntialMessages()},mounted:function(){this.watchForLazyLoading()}}),c=(n(277),n(46)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messages"},[e.dataReady?n("swipe-list",{ref:"list",staticClass:"card",attrs:{disabled:!e.enabled,items:e.messages,"item-key":"id"},on:{"swipeout:click":e.itemClick},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.item;t.index,t.revealLeft,t.revealRight,t.close;return[n("div",{staticClass:"card-content"},[o.author?n("img",{staticClass:"author-image",attrs:{src:e.authorImageUrl(o.author.photoUrl),alt:o.author.name}}):e._e(),e._v(" "),n("section",[n("header",[o.author?n("h2",[e._v(e._s(o.author.name))]):e._e(),e._v(" "),n("p",[e._v(e._s(e.$moment(o.updated).format("MMM Do, h:mm:ss a")))])]),e._v(" "),n("main",[e._v("\n\t\t\t\t\t\t"+e._s(e._f("truncate")(o.content,140))+"\n\t\t\t\t\t")])])])]}},{key:"left",fn:function(t){var o=t.item,r=t.close;return[n("div",{staticClass:"swipeout-action red",attrs:{title:"remove"},on:{click:function(t){return e.remove(o)}}},[n("i",{staticClass:"fa fa-trash"})]),e._v(" "),n("div",{staticClass:"swipeout-action purple",on:{click:r}},[n("i",{staticClass:"fa fa-close"})])]}},{key:"right",fn:function(e){e.item;return[n("div",{staticClass:"swipeout-action green"},[n("i",{staticClass:"fa fa-heart"})])]}},{key:"empty",fn:function(){return[n("div",[e._v("\n\t\t\t\tlist is empty ( filtered or just empty )\n\t\t\t")])]},proxy:!0}],null,!1,3607180210)}):n("div",{staticClass:"loading"},[n("i",{staticClass:"fa-solid fa-spinner fa-pulse"}),e._v(" "),n("p",[e._v("Loading messages...")])]),e._v(" "),e.itemRemoved?n("button",{staticClass:"item-removed",attrs:{type:"button"}},[n("span",[e._v("Message was deleted")]),e._v(" "),n("span",{staticClass:"button-label"},[e._v("Undo")])]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(273).default})},295:function(e,t,n){"use strict";n.r(t);var o=n(2).a.extend({name:"IndexPage",data:function(){return{showMobileMenu:!1}}}),r=n(46),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Menu",{directives:[{name:"show",rawName:"v-show",value:e.showMobileMenu,expression:"showMobileMenu"}]}),e._v(" "),n("Header",{on:{showMobileMenu:function(t){e.showMobileMenu=!0}}}),e._v(" "),n("Messages")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Menu:n(283).default,Header:n(273).default,Messages:n(284).default})}}]);