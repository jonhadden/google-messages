(window.webpackJsonp=window.webpackJsonp||[]).push([[5,3],{272:function(e,t,o){var content=o(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(63).default)("0818a98b",content,!0,{sourceMap:!1})},273:function(e,t,o){"use strict";o.r(t);var n={name:"Header",methods:{showMobileMenu:function(){this.$emit("event","showMobileMenu")}}},r=(o(274),o(46)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("header",{staticClass:"messages-header"},[o("button",{on:{click:e.showMobileMenu}},[o("i",{staticClass:"fa-solid fa-bars"})]),e._v(" "),o("h1",[e._v("Messages")])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:o(273).default})},274:function(e,t,o){"use strict";o(272)},275:function(e,t,o){var n=o(62)(!1);n.push([e.i,".messages-header{background:#673ab7;border-bottom:1px solid #3c1b75;z-index:2;color:#fff;display:flex;align-items:center;transition:all 2s;box-shadow:0 1px 2px 0 rgba(0,0,0,.2),inset 0 2px 1px #825ac5}.messages-header button{background:transparent;border:none;color:#fff;padding:14px 20px;margin-right:10px}.messages-header button:hover{background:#5c005c}.messages-header h1{font-size:1.25rem;flex:1;margin-bottom:0;text-shadow:0 1px 1px 0 #240024}.scroll-up .messages-header{position:fixed;top:0;width:100%}",""]),e.exports=n},276:function(e,t,o){var content=o(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(63).default)("a23bae6c",content,!0,{sourceMap:!1})},277:function(e,t,o){"use strict";o(276)},278:function(e,t,o){var n=o(62)(!1);n.push([e.i,".messages{z-index:1}.messages .card-content{border-bottom:1px solid #ddd;padding:10px;display:flex;grid-gap:1rem;gap:1rem}.messages .card-content .author-image{width:36px;height:36px;border-radius:50%}.messages .card-content section{flex:1}.messages .card-content header{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:4px}.messages .card-content h2,.messages .card-content p{margin-bottom:0;line-height:1}.messages .card-content h2{font-size:1rem;font-weight:500}.messages .card-content p{font-size:.75rem;line-height:1;color:grey}.messages .card-content main{font-size:.85rem}.messages .error,.messages .loading{text-align:center;margin-top:80px}.messages .swipeout-action{transition:transform .2s;will-change:transform;display:flex;align-items:center;padding:0 3rem;cursor:pointer;left:0}.messages .swipeout-action.red{color:#fff;background-color:#ff3b30}.messages .swipeout-action.purple{color:#fff;background-color:#5856d6}.messages .swipeout-action.green{color:#fff;background-color:#4cd964}.messages .item-removed{background:#673ab7;border:none;border-radius:8px;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);color:#fff;width:calc(100% - 20px);padding:10px 20px;position:fixed;z-index:3;bottom:10px;left:10px;display:flex;justify-content:space-between;align-content:center}.messages .item-removed .button-label{background:#552b9e;color:#fff;border-radius:4px;border:none}",""]),e.exports=n},284:function(e,t,o){"use strict";o.r(t);o(29),o(11),o(78),o(64),o(28);var n=o(282),r=(o(281),{name:"Messages",components:{SwipeOut:n.b,SwipeList:n.a},data:function(){return{baseUrl:"http://message-list.appspot.com/",dataReady:!1,messages:[],pageToken:"",count:10,xDown:null,yDown:null,enabled:!0,itemRemoved:!1,apiError:!1}},filters:{truncate:function(e,t){return(e||"").substring(0,t)+"â€¦"}},methods:{remove:function(e){var t=this;this.messages=this.messages.filter((function(i){return i!==e})),setTimeout((function(){t.itemRemoved=!0,setTimeout((function(){t.itemRemoved=!1}),5e3)}),250)},itemClick:function(e){console.log(e,"item click")},getIntialMessages:function(){var e=this;setTimeout((function(){e.$axios.$get("/api/messages?limit=".concat(e.count)).then((function(t){e.pageToken=t.pageToken,e.messages=t.messages,e.dataReady=!0})).catch((function(t){e.apiError=!0,console.log(t)}))}),3e3)},watchForLazyLoading:function(){var e=this,body=document.body,t="scroll-up",o="scroll-down",n=0;window.onscroll=function(){var r=window.pageYOffset;if(r<=0)body.classList.remove(t);else{r>n&&!body.classList.contains(o)?(body.classList.remove(t),body.classList.add(o)):r<n&&body.classList.contains(o)&&(body.classList.remove(o),body.classList.add(t)),n=r;var c=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight+2>=document.documentElement.offsetHeight;c&&(console.log("bottom of window",c),e.$axios.$get("/api/messages?limit=".concat(e.count,"&pageToken=").concat(e.pageToken)).then((function(t){t.messages.forEach((function(t){e.messages.push(t)})),e.pageToken=t.pageToken})).catch((function(){e.apiError=!0})))}}},authorImageUrl:function(e){var t=this.baseUrl+e;return console.log(t),t}},beforeMount:function(){this.getIntialMessages()},mounted:function(){this.watchForLazyLoading()}}),c=(o(277),o(46)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"messages"},[e.dataReady&&!e.apiError?o("swipe-list",{ref:"list",staticClass:"card",attrs:{disabled:!e.enabled,items:e.messages,"item-key":"id"},on:{"swipeout:click":e.itemClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;t.index,t.revealLeft,t.revealRight,t.close;return[o("div",{staticClass:"card-content"},[n.author?o("img",{staticClass:"author-image",attrs:{src:e.authorImageUrl(n.author.photoUrl),alt:n.author.name}}):e._e(),e._v(" "),o("section",[o("header",[n.author?o("h2",[e._v(e._s(n.author.name))]):e._e(),e._v(" "),o("p",[e._v(e._s(e.$moment(n.updated).format("MMM Do, h:mm:ss a")))])]),e._v(" "),o("main",[e._v("\n\t\t\t\t\t\t"+e._s(e._f("truncate")(n.content,140))+"\n\t\t\t\t\t")])])])]}},{key:"left",fn:function(t){var n=t.item,r=t.close;return[o("div",{staticClass:"swipeout-action red",attrs:{title:"remove"},on:{click:function(t){return e.remove(n)}}},[o("i",{staticClass:"fa fa-trash"})]),e._v(" "),o("div",{staticClass:"swipeout-action purple",on:{click:r}},[o("i",{staticClass:"fa fa-close"})])]}},{key:"right",fn:function(e){e.item;return[o("div",{staticClass:"swipeout-action green"},[o("i",{staticClass:"fa fa-heart"})])]}},{key:"empty",fn:function(){return[o("div",[e._v("\n\t\t\t\tlist is empty ( filtered or just empty )\n\t\t\t")])]},proxy:!0}],null,!1,3607180210)}):e._e(),e._v(" "),e.dataReady||e.apiError?e._e():o("div",{staticClass:"loading"},[o("i",{staticClass:"fa-solid fa-spinner fa-pulse"}),e._v(" "),o("p",[e._v("Loading messages...")])]),e._v(" "),e.apiError?o("div",{staticClass:"error"},[o("i",{staticClass:"fa-solid fa-bug"}),e._v(" "),o("p",[e._v("There was a problem getting the messages. Please try refreshing the browser or try again in a few minutes.")])]):e._e(),e._v(" "),e.itemRemoved?o("button",{staticClass:"item-removed",attrs:{type:"button"}},[o("span",[e._v("Message was deleted")]),e._v(" "),o("span",{staticClass:"button-label"},[e._v("Undo")])]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:o(273).default})}}]);